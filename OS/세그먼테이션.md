### 페이징
> 물리적 주소를 크기가 고정된 페이지로 분할하여 프로세스를 할당한다.  
> **이는 사용자 프로그램과 프로세스 관점의 메모리가 일치하지 않는다.**

# 세그먼테이션

분산 메모리 할당 방법으로 프로세스 관점으로 지원하여 

크기가 변할 수 있는, **가변 크기의 세그먼트**(segment)로 나눈다.

- 컴파일러가 서브루틴과 프로시저, 함수, 모듈 등 각기 크기가 다른 세그먼트를 만든다.
- 프로세스에 따라 세그먼트의 크기가 달라 **동적 분할(가변 분할)** 방법으로 할당한다.
- 내부 단편화를 해소시킨다.
- 외부 단편화가 생길 수 있다.
    - 메모리 압축 기법이나 동적 대치 알고리즘을 사용함으로써 최소화 할 수 있다.

<p align="center">
  <img src="https://github.com/triflingness/CSnCT-Study/blob/427515664c19b82358874f6158ecb3a1e0fe9d5b/OS/imgs/%E1%84%89%E1%85%A6%E1%84%80%E1%85%B3%E1%84%86%E1%85%A5%E1%86%AB%E1%84%90%E1%85%A6%E1%84%8B%E1%85%B5%E1%84%89%E1%85%A7%E1%86%AB/%E1%84%91%E1%85%A6%E1%84%8B%E1%85%B5%E1%84%8C%E1%85%B5%E1%86%BC%E1%84%80%E1%85%AA_%E1%84%89%E1%85%A6%E1%84%80%E1%85%B3%E1%84%86%E1%85%A5%E1%86%AB%E1%84%90%E1%85%A6%E1%84%8B%E1%85%B5%E1%84%89%E1%85%A7%E1%86%AB_%E1%84%86%E1%85%A6%E1%84%86%E1%85%A9%E1%84%85%E1%85%B5_%E1%84%92%E1%85%A1%E1%86%AF%E1%84%83%E1%85%A1%E1%86%BC_%E1%84%87%E1%85%B5%E1%84%80%E1%85%AD.png" width="600">
</p>

## 세그먼트 테이블

- **세그먼트 메모리 시작 주소**와 **세그먼트의 길이**를 알려준다.

<p align="center">
  <img src="https://github.com/triflingness/CSnCT-Study/blob/427515664c19b82358874f6158ecb3a1e0fe9d5b/OS/imgs/%E1%84%89%E1%85%A6%E1%84%80%E1%85%B3%E1%84%86%E1%85%A5%E1%86%AB%E1%84%90%E1%85%A6%E1%84%8B%E1%85%B5%E1%84%89%E1%85%A7%E1%86%AB/%E1%84%89%E1%85%A6%E1%84%80%E1%85%B3%E1%84%86%E1%85%A5%E1%86%AB%E1%84%90%E1%85%A6%E1%84%8B%E1%85%B5%E1%84%89%E1%85%A7%E1%86%AB_%E1%84%8B%E1%85%A8.png" width="700">
</p>

## 세그먼트 공유

페이징과 달리 세그먼테이션은 공유 항목을 표시할 필요 없이 **공유한다고 선언**만 해주면 된다.

→ 각 세그먼트 테이블에서 메모리의 동일한 세그먼트(43062)를 지정하여 공유한다.

<p align="center">
  <img src="https://github.com/triflingness/CSnCT-Study/blob/427515664c19b82358874f6158ecb3a1e0fe9d5b/OS/imgs/%E1%84%89%E1%85%A6%E1%84%80%E1%85%B3%E1%84%86%E1%85%A5%E1%86%AB%E1%84%90%E1%85%A6%E1%84%8B%E1%85%B5%E1%84%89%E1%85%A7%E1%86%AB/%E1%84%89%E1%85%A6%E1%84%80%E1%85%B3%E1%84%86%E1%85%A5%E1%86%AB%E1%84%90%E1%85%A6%E1%84%8B%E1%85%B5%E1%84%89%E1%85%A7%E1%86%AB%E1%84%8B%E1%85%A6%E1%84%89%E1%85%A5_%E1%84%89%E1%85%A6%E1%84%80%E1%85%B3%E1%84%86%E1%85%A5%E1%86%AB%E1%84%90%E1%85%B3_%E1%84%80%E1%85%A9%E1%86%BC%E1%84%8B%E1%85%B2.png" width="700">
</p>

## 페이지화된 세그먼테이션

작업 크기가 동일하여 다양한 알고리즘을 개발할 수 있다는 페이징의 장점과  
가변적인 데이터 구조와 모듈처리, 공유와 보호의 지원이 편리하다는 세그먼테이션의 장점을 합친 것.

→ 세그먼트를 페이징하였다.

- 외부 단편화를 해결할 수 있다.
- 할당 과정을 쉽게 해결한다.

<p align="center">
  <img src="https://github.com/triflingness/CSnCT-Study/blob/427515664c19b82358874f6158ecb3a1e0fe9d5b/OS/imgs/%E1%84%89%E1%85%A6%E1%84%80%E1%85%B3%E1%84%86%E1%85%A5%E1%86%AB%E1%84%90%E1%85%A6%E1%84%8B%E1%85%B5%E1%84%89%E1%85%A7%E1%86%AB/%E1%84%91%E1%85%A6%E1%84%8B%E1%85%B5%E1%84%8C%E1%85%B5%E1%84%92%E1%85%AA%E1%84%83%E1%85%AC%E1%86%AB_%E1%84%89%E1%85%A6%E1%84%80%E1%85%B3%E1%84%86%E1%85%A5%E1%86%AB%E1%84%90%E1%85%B3_%E1%84%86%E1%85%A6%E1%84%86%E1%85%A9%E1%84%85%E1%85%B5_%E1%84%8C%E1%85%AE%E1%84%89%E1%85%A9_%E1%84%87%E1%85%A7%E1%86%AB%E1%84%92%E1%85%AA%E1%86%AB_%E1%84%8B%E1%85%A8.png" width="700">
</p>

프로세스를 세그먼트화 한 후,

세그먼트 번호와 STBR(세그먼트 테이블 기준 레지스터)을 이용하여 세그먼트 테이블을 확인한다.

해당 세그먼트 페이지 테이블에서 페이지 번호를 찾아 이에 대응하는 페이지 프레임을 찾는다.

페이지 프레임을 오프셋과 결합하여 메모리 주소를 생성한다.
