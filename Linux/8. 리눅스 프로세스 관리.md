리눅스 프로세스 관리
==============

### 프로세스 개념

프로세스: 현재 시스템에서 실행 중인 프로그램

리눅스: 다중 프로그램 시스템, 여러 개의 프로세스가 동시 실행됨  

- 시스템 프로세스: 리눅스의 운영에 필요한 다양한 기능 수행
- 사용자 프로세스: 사용자가 실행한 프로그램

1. 리눅스의 모든 프로세스는 부모-자식 관계

  - 부팅 시 스케줄러가 실행한 프로세스인 init인 kthreadd 프로세스를 제외하면  모든 프로세스는 부모 프로세스를 가지고 있음

2. 프로세스의 번호

  - PID(Process identification number): 각 프로세스가 가지는 고유한 번호  
  - PID는 1번부터 시작하고 프로세스가 실행되면서 하나씩 증가하여 부여됨

3.프로세스의 종류

  - 데몬 프로세스: 리눅스 커널에 의해 실행되는 특정 서비스를 제공하기 위해 존재하는 프로세스  평소에는 대기 상태.
  - 고아 프로세스: 자식 프로세스가 실행 중인데 부모 프로세스가 먼저 종료될 때 자식 프로세스는 고아 프로세스가 된다.

     → 1번 프로세스가  고아 프로세스의 새로운 부모 프로세스가 되어 작업 후 종료되도록 한다.

  - 좀비 프로세스: 자식 프로세스가 종료되었는데도 프로세스 테이블 목록에 남아 있는 경우,  defunct 프로세스

     →  SIGCHID 시그널로 부모 프로세스가 자식을 정리하도록 하거나 부모 프로세스를 종료시킴. 새로운 부모가 주기적으로 자식 프로세스의 종료 정보를 학인하고 정리한다.

4. 프로세스 관리 명령

- ps
    - 현재 실행 중인 프로세스의 목록을 보는 명령
    - <유닉스 옵션>
        - -e: 시스템에서 실행 중인 모든 프로세스의 정보 출력
        - -f: 프로세스의 자세한 정보 출력
        - -u uid: 특정 사용자에 대한 모든 프로세스의 정보 출력
        - -p pid: pid로 지정한 특정 프로세스의 정보 출력
    - <BSD 옵션>
        - a: 터미널에서 실행한 프로세스의 정보 출력
        - u: 프로세스 소유자의 이름, cpu 사용량, 메모리 사용량 등 상제 정보 출력
        - x: 시스템에서 실행 중인 모든 프로세스의 정보 출력
    - <GNU 옵션>
        - —pid PID 목록: 목록으로 지정한 특정 PID의 정보 출력
- ps -ef | grep bash , pgrep [옵션] [패턴]
    - 지정한 패턴과 일치하는 프로세스의 정보 출력
    - <옵션>
        - -x: 패턴과 정확히 일치하는 프로세스의 정보를 출력
        - -n: 패턴을 포함하고 있는 가장 최근의 프로세스 정보 출력
        - -u 사용자 이름: 특정 사용자에 대한 모든 프로세스 출력
        - -l: PID와 프로세스의 이름 출력
        - -t term: 특정 단말기와 관련된 프로세스의 정보 출력
- kill [시그널] PID
    - 지정한 시그널을 프로세스에 보냄
    - <시그널>
        - -2: 인터럽트 시그널을 보냄
        - -9: 프로세스 강제 종료
        - -15: 프로세스 관련 파일 정리 후 프로세스 종료

```bash
<터미널 1>
sh
more /etc/services

<터미널 2> # 두 명령 중 하나
ps -ft pts/1
ps a | grep pts/1

<터미널 1>
kill [more의 pid]
kill [sh의 pid]
kill -9 [sh의 pid]
```
