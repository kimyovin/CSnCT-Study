Pipeline Hazard
===================

### Hazard란?
- 명령어 실행 지속이 불가하여 지정된 클럭에서 수행되는 파이프라인이 지연, 중지되는 현상
- 파이프라인의 속도가 저하되는 현상
- 해저드의 원인이 사라질 때까지 파이프라인에 명령어 투입을 멈추는 것을 __파이프라인 중지(pipeline stall)__ 또는 __파이프라인 버블(pipeline bubble)__ 이라고 함(해당 명령어는 NOP 명령어(no-operation))
> 파이프라인 구조는 선행 명령어와 후행 명령어가 중첩되어 실행되기 때문에 명령어나 데이터가 준비되지 않아서 파이프라인을 멈춰야 하거나 새로운 명령어를 파이프라인에 투입할 경우 잘못된 결과가 초래되는 모든 상황이나 조건

<img>

### Pipeline Hazard의 종류
__1. 구조적 해저드(Structural hazard)__
- 자원의 충돌로 여러 명령이 동시 수행될 때 발생
- 하나의 자원을 여러 명령이 동시에 수행되려고 할 때 발생
- 파이프라인에서 실행 중인 2개 이상의 명령어가 동일한 하드웨어 자원을 동시에 요구할 때 발생
- 하드웨어 자원이 부족할 때에도 나타나기에 자원 해저드(resource hazard)라고도 함

  <해결방법>
  1) 하드웨어 아키텍처: 메모리에서 데이터 영역과 명령어 영역을 분리하여 동시에 처리할 수 있도록 한다
  2) 하드웨어 자원을 추가한다
  3) 파이프라인 버블(NOP 명령어 삽입): 해당 기능을 사용할 수 있을 때까지 지연시킨다
  
__2. 데이터 해저드(Data hazard)__
- 명령어들의 결과값 의존성에 의해 이전 명령 수행 완료 시까지 다음 명령어의 실행 연기
- 연산할 데이터가 준비되지 않아 파이프라인을 멈춰야하는 모든 상황이나 조건
- 이전 명령어에서 레지스터의 값을 바꾸기 전에 후속 명령어가 그 값을 필요로 하는 경우, 데이터 의존성이 있는 경우 발생
- 데이터 종속(Data Dependency): 선행 명령어가 사용하는 데이터와 후행 명령어가 사용하는 데이터 사이의 종속 관계





__3. 명령어 해저드(Instruction hazard)__
